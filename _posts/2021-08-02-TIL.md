---
title: "2021년 08월 02일 TIL"
date: 2021-08-02 00:23:00 -0400
categories: TIL
---

오늘은 프로젝트의 CI/CD 최종장이었다. 프론트엔드와 백엔드를 각기 서버에 올렸고, 프론트엔드와 NGINX를 연동하여 배포에도 성공하여, 
이제 샘플 프로젝트로 백엔드와의 통신을 시도해보려고했는데, cors 에러가 발생했다.

처음에는 백엔드쪽에서 CORS 헤더를 제대로 넘겨주지 않은 줄 알고 백엔드 쪽 코드를 지속적으로 수정하다가, 
직접 수동으로 넣어서 넘겨줘도 문제가 발생하기에 백엔드의 문제가 아니란 것을 알았다.

알고보니 Ingress 쪽에서 CORS 헤더를 인터셉트하여 허용하지 않는 것이었는데, Ingress 자체 설정으로 해결해야하는 듯 했다.
그러나 현재 우리가 사용하고 있는 것은 microk8s이고, addon으로 Ingress가 동작하는 시스템이다보니 config에 접근하는 것이 쉽지가 않았다.
(또한 어떠한 방식으로 조작해야하는지에 대한 가이드도 도저히 찾을 수가 없었다.

찾다보니 너무 시간이 늦어 우선은 내일로 미뤄두었다. 내일은 방법을 찾을 것이다.
