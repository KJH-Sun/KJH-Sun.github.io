---
title: "2021년 08월 18일 TIL"
date: 2021-08-18 00:23:00 -0400
categories: TIL
---

오늘은 JMeter를 사용한 부하테스트를 진행해보았다.

원래는 NGrinder를 사용해보려고 시도했으나, 현재 개발 환경이 SSAFY에서 제공해주는 EC2이고, 그러다보니 여러가지로 내부적인 제약사항이 많았다.

또한 NGrinder를 사용한 부하테스트를 제대로 하기 위해서는 Controller와 Agent, 테스트 대상 서버가 분리되어야한다고 했는데, 여건상 그것들을 분리하기는 너무 어려웠다.

따라서 JMeter를 사용하기로 결정하고, 부하테스트를 진행하며 EC2쪽에 프로메테우스와 그라파나를 올려서 모니터링하면서 진행했다.

캐싱 전 / 후에 따른 성능 차이와 쿠버네티스의 오토스케일링에 초점을 맞춰 테스트를 진행했는데, 캐싱 전/후에 따라 많게는 20배정도의 TPS 향상을 보았다는 글을 보아 크게 기대했었는데

그정도의 향상은 확인하지 못했다. 

단일서버 상황이었기때문에 3000명 이상이 접근했을 때 서버가 불안정한 상태를 보였고,캐싱 적용 시 2배정도의 TPS 향상을 보았습니다.

나중에 더 공부해서 제대로 이런 테스트를 진행해보고 싶습니다. 끝!
